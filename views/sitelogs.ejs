<section class="space-y-4">
  <div class="bg-white rounded-2xl p-4 shadow-sm">
    <h1 class="text-xl font-semibold">Site Logs</h1>
    <form method="GET" class="mt-3 grid gap-2 md:grid-cols-5">
      <input name="method" value="<%= filters.method||'' %>" class="px-3 py-2 border rounded-xl" placeholder="METHOD (GET/POST)" />
      <input name="status" value="<%= filters.status||'' %>" class="px-3 py-2 border rounded-xl" placeholder="Status (e.g. 200)" />
      <input name="userId" value="<%= filters.userId||'' %>" class="px-3 py-2 border rounded-xl" placeholder="User ID" />
      <input name="path" value="<%= filters.path||'' %>" class="px-3 py-2 border rounded-xl" placeholder="Path contains" />
      <button class="px-3 py-2 bg-slate-900 text-white rounded-xl">Filter</button>
    </form>
  </div>

  <div class="bg-white rounded-2xl p-4 shadow-sm overflow-x-auto">
    <table class="w-full text-sm">
      <thead class="text-slate-500">
        <tr>
          <th class="text-left py-2">Time</th>
          <th class="text-left">Meth</th>
          <th class="text-left">Stat</th>
          <th class="text-left">ms</th>
          <th class="text-left">User</th>
          <th class="text-left">Guild</th>
          <th class="text-left">Path</th>
        </tr>
      </thead>
      <tbody>
        <% logs.forEach(l => { %>
          <tr class="border-t align-top">
            <td class="py-2 whitespace-nowrap"><%= new Date(l.ts).toLocaleString() %></td>
            <td class="whitespace-nowrap"><%= l.method %></td>
            <td class="whitespace-nowrap"><%= l.status %></td>
            <td class="whitespace-nowrap"><%= l.durationMs %></td>
            <td class="whitespace-nowrap"><%= l.userId || '—' %></td>
            <td class="whitespace-nowrap"><%= l.guildId || '—' %></td>
            <td>
              <div class="font-mono text-xs break-all"><%= l.originalUrl %></div>
              <details class="mt-1">
                <summary class="cursor-pointer text-slate-500">Details</summary>
                <pre class="mt-1 p-2 bg-slate-50 rounded-xl overflow-auto">query: <%= JSON.stringify(l.query||{}, null, 2) %></pre>
                <pre class="mt-1 p-2 bg-slate-50 rounded-xl overflow-auto">body:  <%= JSON.stringify(l.body||{}, null, 2) %></pre>
                <pre class="mt-1 p-2 bg-slate-50 rounded-xl overflow-auto">params:<%= JSON.stringify(l.params||{}, null, 2) %></pre>
                <pre class="mt-1 p-2 bg-slate-50 rounded-xl overflow-auto">ip: <%= l.ip %> | ua: <%= l.userAgent %></pre>
              </details>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</section>
